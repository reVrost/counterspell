var J=Object.defineProperty;var N=t=>{throw TypeError(t)};var V=(t,e,r)=>e in t?J(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var U=(t,e,r)=>V(t,typeof e!="symbol"?e+"":e,r),F=(t,e,r)=>e.has(t)||N("Cannot "+r);var n=(t,e,r)=>(F(t,e,"read from private field"),r?r.call(t):e.get(t)),p=(t,e,r)=>e.has(t)?N("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),K=(t,e,r,s)=>(F(t,e,"write to private field"),s?s.call(t,r):e.set(t,r),r);import{aq as Y,ar as W,ab as E,a1 as X,c as $,$ as j,h as k,i as ee,a5 as te,as as re,n as C,at as se,o as D,Q as ne,m as q,K as ie,au as R,av as ae,aw as fe,A as ue,ax as oe,ay as ce,az as le,O as de,aA as he,aB as pe,w as _e,F as ve,aC as be,aD as ge,aE as w,S as z,aF as G,aG as me}from"./BipdXalV.js";import{s as Se,g as we}from"./B1iLSD93.js";var l,h,o,_,P,y,I;class xe{constructor(e,r=!0){U(this,"anchor");p(this,l,new Map);p(this,h,new Map);p(this,o,new Map);p(this,_,new Set);p(this,P,!0);p(this,y,()=>{var e=Y;if(n(this,l).has(e)){var r=n(this,l).get(e),s=n(this,h).get(r);if(s)W(s),n(this,_).delete(r);else{var i=n(this,o).get(r);i&&(n(this,h).set(r,i.effect),n(this,o).delete(r),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),s=i.effect)}for(const[a,c]of n(this,l)){if(n(this,l).delete(a),a===e)break;const f=n(this,o).get(c);f&&(E(f.effect),n(this,o).delete(c))}for(const[a,c]of n(this,h)){if(a===r||n(this,_).has(a))continue;const f=()=>{if(Array.from(n(this,l).values()).includes(a)){var v=document.createDocumentFragment();te(c,v),v.append($()),n(this,o).set(a,{effect:c,fragment:v})}else E(c);n(this,_).delete(a),n(this,h).delete(a)};n(this,P)||!s?(n(this,_).add(a),X(c,f,!1)):f()}}});p(this,I,e=>{n(this,l).delete(e);const r=Array.from(n(this,l).values());for(const[s,i]of n(this,o))r.includes(s)||(E(i.effect),n(this,o).delete(s))});this.anchor=e,K(this,P,r)}ensure(e,r){var s=Y,i=re();if(r&&!n(this,h).has(e)&&!n(this,o).has(e))if(i){var a=document.createDocumentFragment(),c=$();a.append(c),n(this,o).set(e,{effect:j(()=>r(c)),fragment:a})}else n(this,h).set(e,j(()=>r(this.anchor)));if(n(this,l).set(s,e),i){for(const[f,d]of n(this,h))f===e?s.skipped_effects.delete(d):s.skipped_effects.add(d);for(const[f,d]of n(this,o))f===e?s.skipped_effects.delete(d.effect):s.skipped_effects.add(d.effect);s.oncommit(n(this,y)),s.ondiscard(n(this,I))}else k&&(this.anchor=ee),n(this,y).call(this)}}l=new WeakMap,h=new WeakMap,o=new WeakMap,_=new WeakMap,P=new WeakMap,y=new WeakMap,I=new WeakMap;let A=!1,M=Symbol();function Ee(t,e,r){const s=r[e]??(r[e]={store:null,source:se(void 0),unsubscribe:C});if(s.store!==t&&!(M in r))if(s.unsubscribe(),s.store=t??null,t==null)s.source.v=void 0,s.unsubscribe=C;else{var i=!0;s.unsubscribe=Se(t,a=>{i?s.source.v=a:q(s.source,a)}),i=!1}return t&&M in r?we(t):D(s.source)}function Re(){const t={};function e(){ne(()=>{for(var r in t)t[r].unsubscribe();ie(t,M,{enumerable:!1,value:!0})})}return[t,e]}function Pe(t){var e=A;try{return A=!1,[t(),A]}finally{A=e}}const ye={get(t,e){if(!t.exclude.includes(e))return t.props[e]},set(t,e){return!1},getOwnPropertyDescriptor(t,e){if(!t.exclude.includes(e)&&e in t.props)return{enumerable:!0,configurable:!0,value:t.props[e]}},has(t,e){return t.exclude.includes(e)?!1:e in t.props},ownKeys(t){return Reflect.ownKeys(t.props).filter(e=>!t.exclude.includes(e))}};function Me(t,e,r){return new Proxy({props:t,exclude:e},ye)}const Oe={get(t,e){let r=t.props.length;for(;r--;){let s=t.props[r];if(w(s)&&(s=s()),typeof s=="object"&&s!==null&&e in s)return s[e]}},set(t,e,r){let s=t.props.length;for(;s--;){let i=t.props[s];w(i)&&(i=i());const a=R(i,e);if(a&&a.set)return a.set(r),!0}return!1},getOwnPropertyDescriptor(t,e){let r=t.props.length;for(;r--;){let s=t.props[r];if(w(s)&&(s=s()),typeof s=="object"&&s!==null&&e in s){const i=R(s,e);return i&&!i.configurable&&(i.configurable=!0),i}}},has(t,e){if(e===z||e===G)return!1;for(let r of t.props)if(w(r)&&(r=r()),r!=null&&e in r)return!0;return!1},ownKeys(t){const e=[];for(let r of t.props)if(w(r)&&(r=r()),!!r){for(const s in r)e.includes(s)||e.push(s);for(const s of Object.getOwnPropertySymbols(r))e.includes(s)||e.push(s)}return e}};function Be(...t){return new Proxy({props:t},Oe)}function Te(t,e,r,s){var T;var i=!ve||(r&be)!==0,a=(r&pe)!==0,c=(r&me)!==0,f=s,d=!0,v=()=>(d&&(d=!1,f=c?_e(s):s),f),g;if(a){var Q=z in t||G in t;g=((T=R(t,e))==null?void 0:T.set)??(Q&&e in t?u=>t[e]=u:void 0)}var m,B=!1;a?[m,B]=Pe(()=>t[e]):m=t[e],m===void 0&&s!==void 0&&(m=v(),g&&(i&&ae(),g(m)));var b;if(i?b=()=>{var u=t[e];return u===void 0?v():(d=!0,u)}:b=()=>{var u=t[e];return u!==void 0&&(f=void 0),u===void 0?f:u},i&&(r&fe)===0)return b;if(g){var Z=t.$$legacy;return(function(u,O){return arguments.length>0?((!i||!O||Z||B)&&g(O?b():u),u):b()})}var x=!1,S=((r&ge)!==0?ue:oe)(()=>(x=!1,b()));a&&D(S);var H=de;return(function(u,O){if(arguments.length>0){const L=O?D(S):i&&a?ce(u):u;return q(S,L),x=!0,f!==void 0&&(f=L),u}return le&&x||(H.f&he)!==0?S.v:D(S)})}export{xe as B,Ee as a,Re as b,Te as p,Me as r,Be as s};
